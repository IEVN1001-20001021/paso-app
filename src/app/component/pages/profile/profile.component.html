<div class="container mx-auto p-5 shadow-lg bg-white">
  <div class="profile-header text-center relative mb-5">
    <input
      type="file"
      id="profile-image-upload"
      class="hidden"
      (change)="onImageChange($event)"
    />
    <label for="profile-image-upload">
      <img
        [src]="userProfile?.image_url || 'https://via.placeholder.com/100'"
        alt="Foto de perfil"
        class="w-24 h-24 rounded-full mx-auto bg-gray-300 cursor-pointer"
      />
    </label>
    <div *ngIf="loadingImage" class="text-center text-sm text-gray-500">
      Subiendo imagen...
    </div>
    <div
      class="settings-icon absolute top-2 right-2 text-2xl text-gray-600 cursor-pointer"
      (click)="editProfile()"
    >
      <i class="fas fa-edit"></i>
    </div>
    <h2 id="user-name" class="mt-3 text-lg font-semibold">
      {{ userProfile?.username }}
    </h2>
    <p id="user-bio" class="text-gray-600">{{ userProfile?.bio }}</p>
  </div>

  <div class="profile-stats flex justify-around bg-gray-100 p-3 rounded-lg">
    <div class="text-center">
      <button
        (click)="viewTravelSummary()"
        class="font-semibold text-blue-500 hover:text-blue-700"
      >
        Viajes completados
      </button>
      <p id="travel-count">{{ userProfile?.travelCount }}</p>
    </div>
    <div class="text-center">
      <button
        (click)="viewOrderSummary()"
        class="font-semibold text-blue-500 hover:text-blue-700"
      >
        Pedidos
      </button>
      <p id="order-count">{{ userProfile?.orderCount }}</p>
    </div>
  </div>

  <app-admin-cards></app-admin-cards>
  <app-recent-orders></app-recent-orders>
  <app-recent-trips></app-recent-trips>
</div>
<app-navbar></app-navbar>
